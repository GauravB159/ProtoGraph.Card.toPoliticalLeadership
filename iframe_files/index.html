<!DOCTYPE html>
<!-- saved from url=(0043)http://localhost:8080/dist/0.0.1/index.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Explainer Card</title>
    <!-- <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"> -->
    <!-- <link rel="stylesheet" type="text/css" href="card.min.css"> -->
    <link rel="stylesheet" href="./semantic.min.css">
    <link rel="stylesheet" type="text/css" href="./styles.css">
    <link rel="stylesheet" type="text/css" href="./edit-form.css">
    <link rel="stylesheet" type="text/css" href="./card.min.css">
    <script type="text/javascript">
      var siteId, origin, base_url;
      // Setting variables from environment
      origin = window.location.origin;
      if (origin == 'https://s3.ap-south-1.amazonaws.com') {
        let bucket_name = window.location.pathname.split('/')['1'];
        base_url = origin + "/" + bucket_name;
        switch(bucket_name){
          case "cdn.protograph":
            siteId = '1';
            break;
          case "staging.cdn.protograph":
            siteId = '2';
            break;
        }
      } else if (origin === 'https://dkqrqc7q64awx.cloudfront.net') {
        siteId = '2';
        base_url = origin;
      }

      if(siteId){
        var _paq = _paq || [];
        /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
        _paq.push(['trackPageView']);
        _paq.push(['enableLinkTracking']);
        (function() {
          var u="//protograph.innocraft.cloud/";
          _paq.push(['setTrackerUrl', u+'piwik.php']);
          _paq.push(['setSiteId', siteId]);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
        })();
      }
    </script>

  <style type="text/css">@import url(https://fonts.googleapis.com/css?family=Lato:300,400,700);</style><style type="text/css">body{font-family:Lato,Helvetica Neue,Arial,Helvetica,sans-serif;letter-spacing:.5px;font-size:14px}.container{width:980px;margin-left:auto;margin-right:auto;padding-top:50px;margin-bottom:50px}.form-container{width:100%;box-sizing:border-box}.modal-container{width:980px;padding:15px;border:1px solid #efefef;box-shadow:0 10px 20px #efefef;border-radius:4px;display:inline-block}.modal-title{font-size:1.4em;font-weight:900;margin-bottom:20px}.form-col-4{width:33.33%}.form-col-4,.form-col-6{position:relative;display:inline-block;box-sizing:content-box}.form-col-6{width:50%;float:left}fieldset{border:0;position:relative;display:inline-block;width:100%;overflow:hidden;box-sizing:border-box}legend{font-weight:700;font-size:1em;border-bottom:1px solid #efefef;width:100%;padding-bottom:5px;margin-bottom:5px}.form-sub-heading{font-size:1.2em}fieldset p{font-size:1em;color:#333;font-family:Lato,Helvetica Neue,Arial,Helvetica,sans-serif}.form-label{font-size:.8em;color:#aaa;display:inline-block;margin-bottom:5px;width:100%}.form-lable-hint{margin-left:5px}.form-hint,.form-lable-hint{font-size:.8em;color:#999;font-weight:300}.form-error-message{color:#f44336;font-size:.8em;margin-left:5px;margin-top:-5px}.form-textbox{border:1px solid rgba(34,36,38,.15);border-radius:4px;width:100%;padding:7px 10px;font-size:1em;transition:box-shadow .2s ease-in-out;box-sizing:border-box;color:#333}.form-dropdown:focus,.form-textbox:focus{outline:none;border:1px solid #3ba0f9;box-shadow:0 3px 5px #d3d3d3}.small-input{width:100px}textarea{min-height:100px}input[type=color]{display:block;width:100px;height:36px;border:0 solid #efefef;outline:none;background:transparent;padding:0;overflow:hidden;margin-left:-2px;margin-top:-5px}.form-dropdown{-webkit-appearance:none;padding:7px 10px;font-size:1em;background:#fff;border:1px solid rgba(34,36,38,.15);border-radius:4px;width:100%;position:relative}.form-dropdown:before{top:8px;border-top:10px solid red}.form-dropdown:after,.form-dropdown:before{content:"";position:absolute;right:10px;width:0;height:0;border-left:10px solid transparent;border-right:10px solid transparent}.form-dropdown:after{top:3px;border-top:10px solid #333}.form-group{margin-bottom:15px}.form-group:hover .form-label{color:#333}.form-group:hover .form-dropdown,.form-group:hover .form-textbox{border:1px solid rgba(59,160,249,.8)}.default-button{padding:7px 12px;font-size:1em;background:#fff;border:1px solid rgba(34,36,38,.15);border-radius:4px;position:relative;cursor:pointer}.delete-button{background-color:transparent;color:red;float:right;border:none}.default-button:hover{border:1px solid rgba(59,160,249,.8)}.delete-button:hover{border:none}.primary-button,.protograph-primary-button{background:#2196f3;color:#fff;border:1px solid #2196f3!important}.disabled-button{background:#efefef;color:#ccc;border:1px solid #efefef}.form-clearfix{width:100%;display:inline-block;margin-top:10px;margin-bottom:10px}.image-crop-area,.image-display-area{min-height:300px;background:#fafafa;margin-bottom:10px}.cropper-view-box{outline:none!important;outline-color:transparent!important}.cropper-drag-box{background-color:rgba(0,0,0,.9)}.cropper-container{width:100%}.form-title-subtitle-container legend{border-bottom:0!important;margin-bottom:0!important}.form-title-subtitle-container{padding-bottom:5px;border-bottom:1px solid #efefef}.form-dashed-buttons{width:100%;margin-top:10px!important;background:transparent!important;border:1px dashed!important}.form-buttons-container{display:block;position:absolute;top:4px;right:4px}.title.active~.form-buttons-container{display:none}.form-accordion{position:relative;border-top:1px solid #d3d3d3}.protograph-error-accordion{border:1px solid red}</style></head>
  <body>
    <div id="explainer-div"><div data-reactroot="" id="protograph_div_laptop"><p id="assembly_location">Agra/ Agra Nagar</p><h3 id="card_title">Leadership-MLA</h3><div class="card-scrollable"><table><tr><th class="mobile-mla-name">Name</th><th class="mobile-mla-assembly">Assembly</th><th class="mobile-mla-assets">Assets</th><th class="mobile-mla-education">Education</th><th class="mobile-mla-party">Party</th></tr><tr id="bsp"><td class="mobile-mla-name"><h5>Gutiyari Lal Duwesh</h5></td><td class="mobile-mla-assembly"><p>Agra Cantt.</p></td><td class="mobile-mla-assets"><p>7cr</p></td><td class="mobile-mla-education"><p>Class VIII</p></td><td class="mobile-mla-party"><img src="./1rSy_xxJ_400x400.jpg"></td></tr><tr id="bjp"><td class="mobile-mla-name"><h5>Aditya Desai</h5></td><td class="mobile-mla-assembly"><p>Mumbai</p></td><td class="mobile-mla-assets"><p>8cr</p></td><td class="mobile-mla-education"><p>BE EXTC</p></td><td class="mobile-mla-party"><img src="./frVON4bm_400x400.jpg"></td></tr><tr id="bsp"><td class="mobile-mla-name"><h5>Gaurav Bhagchandnani</h5></td><td class="mobile-mla-assembly"><p>Agra Cantt.</p></td><td class="mobile-mla-assets"><p>2.2cr</p></td><td class="mobile-mla-education"><p>BE Info Tech</p></td><td class="mobile-mla-party"><img src="./1rSy_xxJ_400x400.jpg"></td></tr><tr id="bjp"><td class="mobile-mla-name"><h5>Neil Miten Daftary</h5></td><td class="mobile-mla-assembly"><p>Ahmedabad</p></td><td class="mobile-mla-assets"><p>10.45cr</p></td><td class="mobile-mla-education"><p>BE Comps</p></td><td class="mobile-mla-party"><img src="./frVON4bm_400x400.jpg"></td></tr><tr id="bjp"><td class="mobile-mla-name"><h5>Kamya Mehul Desai</h5></td><td class="mobile-mla-assembly"><p>Kandivali</p></td><td class="mobile-mla-assets"><p>8cr</p></td><td class="mobile-mla-education"><p>Class VIII</p></td><td class="mobile-mla-party"><img src="./frVON4bm_400x400.jpg"></td></tr><tr id="bjp"><td class="mobile-mla-name"><h5>Madhura Vijay Gore</h5></td><td class="mobile-mla-assembly"><p>Thane</p></td><td class="mobile-mla-assets"><p>6cr</p></td><td class="mobile-mla-education"><p>Class VIII</p></td><td class="mobile-mla-party"><img src="./frVON4bm_400x400.jpg"></td></tr><tr id="bjp"><td class="mobile-mla-name"><h5>Gutiyari Lal Duwesh</h5></td><td class="mobile-mla-assembly"><p>Agra Cantt.</p></td><td class="mobile-mla-assets"><p>1cr</p></td><td class="mobile-mla-education"><p>Class VIII</p></td><td class="mobile-mla-party"><img src="./frVON4bm_400x400.jpg"></td></tr></table></div></div></div>
    <!-- <script src="https://d2m6lzru8erw1k.cloudfront.net/lib/oasis.min.js"></script>
    <script src="https://d2m6lzru8erw1k.cloudfront.net/lib/protoGraph.min.js"></script>

    <script src = "card.min.js"></script> -->
    <script src="./react.js"></script>
    <script src="./react-dom.js"></script>
    <script src="./axios.min.js"></script>
    <script src="./react-jsonschema-form.js"></script>
    <script src="./jquery-3.1.1.min.js"></script>
    <script src="./semantic.min.js"></script>
    <script src="./edit-card.min.js"></script>
    <script src="./oasis.min.js"></script>

    <script type="text/javascript">
    var x = new ProtoGraph.Card.toLeadershipMLA();
    function findGetParameter(parameterName) {
        var result = null,
            tmp = [],
            search_url = decodeURIComponent(location.search);

        search_url
            .substr(1)
            .split("&")
            .forEach(function (item) {
              tmp = item.split("=");
              if (tmp[0] === parameterName) result = decodeURIComponent(tmp[1]);
            });
        return result;
    }

    let view_cast_id = findGetParameter('view_cast_id'),
      schema_id = findGetParameter('schema_id'),
      mode = findGetParameter('mode');


    var ReceiverConsumer = Oasis.Consumer.extend({
      requests: {
        receive: function(mode) {
          var that = this;
          // if(typeof (view_cast_id) !== 'undefined' && typeof(schema_id) !== 'undefined'){
            var that = this,
                data_base_path = base_url + "/" + view_cast_id,
                schema_base_path = base_url + "/" + schema_id;

            let options = {
              selector: document.querySelector('#explainer-div'),
              data_url:"./sample.json",
              schema_url: schema_base_path + "/schema.json",
              configuration_url:"./configuration_sample.json",
              configuration_schema_url: './configuration_schema.json',
              onClickCallback: function () {
                let h = x.getData().height,
                  w = x.getData().width;
                that.send('resize_frame', {width: w, height: h})
              }
            };

            // options.base_url = window.location.href.split("/index.html")[0];
            x.init(options);
            renderWithMode(mode);
          }
        //}
      },
      events: {
        get_size: function(){
          var that = this;
          var intervalId = setInterval(function(){
              console.log(that, document.querySelector('#explainer-div'), "that in get size")
            clientRect = x.getData();
            console.log("This is coollo0oo", x.getData());
            if(clientRect.height){
              var height = clientRect.height,
                width = clientRect.width;
              that.send("resize_frame", {height: height, width: width});
              clearInterval(intervalId);
            }
          }, 1000)
        },
        change_mode: function(mode){
          renderWithMode(mode);
          var that = this;
          setTimeout(function(){
            height = x.getData().height;
            that.send("resize_frame", {height: height});
          })
        }
      }
    });
    oasis.connect({
      consumers: {
        receive: ReceiverConsumer
      }
    });

    function renderWithMode(mode) {
      switch(mode){
        case "laptop":
          x.renderLaptop();
          break;
        case "mobile":
          x.renderMobile();
          break;
      }
    }
    </script>
  

</body></html>