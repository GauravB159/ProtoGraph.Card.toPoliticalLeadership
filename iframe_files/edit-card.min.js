/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};

/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {

/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId])
/******/ 			return installedModules[moduleId].exports;

/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			exports: {},
/******/ 			id: moduleId,
/******/ 			loaded: false
/******/ 		};

/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);

/******/ 		// Flag the module as loaded
/******/ 		module.loaded = true;

/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}


/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;

/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;

/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";

/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(0);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

	__webpack_require__(1);
	module.exports = __webpack_require__(6);


/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactDom = __webpack_require__(3);

	var _reactDom2 = _interopRequireDefault(_reactDom);

	var _Container = __webpack_require__(4);

	var _Container2 = _interopRequireDefault(_Container);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	window.ProtoGraph = window.ProtoGraph || {};
	window.ProtoGraph.Card = window.ProtoGraph.Card || {};

	ProtoGraph.Card.toLeadershipMLA = function () {
	  this.cardType = 'ExplainerCard';
	};

	ProtoGraph.Card.toLeadershipMLA.prototype.init = function (options) {
	  this.options = options;
	};

	ProtoGraph.Card.toLeadershipMLA.prototype.getData = function (data) {
	  return this.containerInstance.exportData();
	};

	ProtoGraph.Card.toLeadershipMLA.prototype.renderLaptop = function (data) {
	  var _this = this;

	  // console.log(window, "inside renderLaptop methos", this)
	  // var that = this;
	  // // debugger;
	  // var ReceiverConsumer = Oasis.Consumer.extend({
	  //   requests: {
	  //     receive: function(mode) {
	  //       // console.log("receive", this, that.options.selector)
	  //       that.renderMode = 'laptop';
	  //       ReactDOM.render(
	  //         <ExplainerCard
	  //           dataURL={that.options.data_url}
	  //           schemaURL={that.options.schema_url}
	  //           optionalConfigURL={that.options.configuration_url}
	  //           optionalConfigSchemaURL={that.options.configuration_schema_url}
	  //           mode={that.renderMode}
	  //           ref={(e) => {
	  //             that.containerInstance = that.containerInstance || e;
	  //           }}/>,
	  //           that.options.selector);
	  //       setTimeout(function(){
	  //         var h = that.options.selector.offsetHeight
	  //         console.log(h, "hhhhhhhhhhhhhhh")
	  //         oasis.consumers.receive.send('resize_frame', {width: '100%', height: h})
	  //       }, 2000)
	  //     }
	  //   }
	  // });
	  // oasis.connect({
	  //   consumers: {
	  //     receive: ReceiverConsumer
	  //   }
	  // })

	  this.mode = 'laptop';
	  console.log("LAPTOP MODE IT IS");
	  _reactDom2.default.render(_react2.default.createElement(_Container2.default, {
	    dataURL: this.options.data_url,
	    schemaURL: this.options.schema_url,
	    optionalConfigURL: this.options.configuration_url,
	    optionalConfigSchemaURL: this.options.configuration_schema_url,
	    mode: this.mode,
	    clickCallback: this.options.onClickCallback,
	    ref: function ref(e) {
	      _this.containerInstance = _this.containerInstance || e;
	    } }), this.options.selector);
	};

	ProtoGraph.Card.toLeadershipMLA.prototype.renderMobile = function (data) {
	  var _this2 = this;

	  this.mode = 'mobile';
	  _reactDom2.default.render(_react2.default.createElement(_Container2.default, {
	    dataURL: this.options.data_url,
	    schemaURL: this.options.schema_url,
	    optionalConfigURL: this.options.configuration_url,
	    optionalConfigSchemaURL: this.options.configuration_schema_url,
	    mode: this.mode,
	    clickCallback: this.options.onClickCallback,
	    ref: function ref(e) {
	      _this2.containerInstance = _this2.containerInstance || e;
	    } }), this.options.selector);
	};

	ProtoGraph.Card.toLeadershipMLA.prototype.renderScreenshot = function (data) {
	  var _this3 = this;

	  this.mode = 'screenshot';
	  _reactDom2.default.render(_react2.default.createElement(_Container2.default, {
	    dataURL: this.options.data_url,
	    schemaURL: this.options.schema_url,
	    optionalConfigURL: this.options.configuration_url,
	    optionalConfigSchemaURL: this.options.configuration_schema_url,
	    mode: this.mode,
	    ref: function ref(e) {
	      _this3.containerInstance = _this3.containerInstance || e;
	    } }), this.options.selector);
	};

/***/ }),
/* 2 */
/***/ (function(module, exports) {

	module.exports = React;

/***/ }),
/* 3 */
/***/ (function(module, exports) {

	module.exports = ReactDOM;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactDom = __webpack_require__(3);

	var _reactDom2 = _interopRequireDefault(_reactDom);

	var _axios = __webpack_require__(5);

	var _axios2 = _interopRequireDefault(_axios);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var ExplainerCard = function (_React$Component) {
	  _inherits(ExplainerCard, _React$Component);

	  function ExplainerCard(props) {
	    _classCallCheck(this, ExplainerCard);

	    var _this = _possibleConstructorReturn(this, (ExplainerCard.__proto__ || Object.getPrototypeOf(ExplainerCard)).call(this, props));

	    var stateVar = {
	      fetchingData: true,
	      dataJSON: {
	        card_data: {},
	        configs: {}
	      },
	      initAllDivs: false,
	      schemaJSON: undefined,
	      optionalConfigJSON: {},
	      optionalConfigSchemaJSON: undefined
	    };
	    if (_this.props.dataJSON) {
	      stateVar.fetchingData = false;
	      stateVar.dataJSON = _this.props.dataJSON;
	    }

	    if (_this.props.optionalConfigJSON) {
	      stateVar.optionalConfigJSON = _this.props.optionalConfigJSON;
	    }

	    if (_this.props.optionalConfigSchemaJSON) {
	      stateVar.optionalConfigSchemaJSON = _this.props.optionalConfigSchemaJSON;
	    }

	    _this.state = stateVar;
	    return _this;
	  }

	  _createClass(ExplainerCard, [{
	    key: 'exportData',
	    value: function exportData() {
	      return document.getElementById('protograph_div').getBoundingClientRect();
	    }
	  }, {
	    key: 'componentDidMount',
	    value: function componentDidMount() {
	      var _this2 = this;

	      console.log(this.state.fetchingData);
	      // get sample json data based on type i.e string or object
	      if (this.state.fetchingData) {
	        _axios2.default.all([_axios2.default.get(this.props.dataURL), _axios2.default.get(this.props.optionalConfigURL), _axios2.default.get(this.props.optionalConfigSchemaURL)]).then(_axios2.default.spread(function (card, opt_config, opt_config_schema) {
	          console.log("componentDidMount - Done");
	          _this2.setState({
	            fetchingData: false,
	            dataJSON: {
	              card_data: card.data,
	              configs: opt_config.data
	            },
	            optionalConfigJSON: opt_config.data,
	            optionalConfigSchemaJSON: opt_config_schema.data
	          });
	        }));
	      }
	    }
	  }, {
	    key: 'componentDidUpdate',
	    value: function componentDidUpdate() {
	      var elem = document.querySelector('.protograph_explainer_text');
	      //this.multiLineTruncate(elem)
	    }
	  }, {
	    key: 'getScreenSize',
	    value: function getScreenSize() {
	      var w = window,
	          d = document,
	          e = d.documentElement,
	          g = d.getElementsByTagName('body')[0],
	          width = w.innerWidth || e.clientWidth || g.clientWidth,
	          height = w.innerHeight || e.clientHeight || g.clientHeight;

	      return {
	        width: width,
	        height: height
	      };
	    }
	  }, {
	    key: 'multiLineTruncate',
	    value: function multiLineTruncate(el) {
	      var data = this.state.dataJSON.card_data,
	          wordArray = data.data.explainer_text.split(' '),
	          props = this.props;
	      // console.log(wordArray, "wordArray", el, el.scrollHeight, el.offsetHeight)
	      while (el.scrollHeight > el.offsetHeight) {
	        wordArray.pop();
	        el.innerHTML = wordArray.join(' ') + '...' + '<span><a id="protograph_read_more">Read more</a></span>';
	      }
	      if (document.getElementById('protograph_read_more') !== null) {
	        document.getElementById('protograph_read_more').addEventListener('click', function () {
	          document.querySelector('.protograph_explainer_text').style.height = 'auto';
	          document.querySelector('.protograph_explainer_text').innerHTML = data.data.explainer_text;
	          // console.log(props, "props")
	          props.clickCallback();
	        });
	      }
	    }
	  }, {
	    key: 'renderLaptop',
	    value: function renderLaptop() {
	      console.log("RENDER LAPTOP WAS CALLED");
	      // console.log(this.state.dataJSON.card_data.data.years, "THIS SHOULD");
	      if (this.state.fetchingData) {
	        return _react2.default.createElement(
	          'div',
	          null,
	          'Loading'
	        );
	      } else {
	        var that = this;
	        var dataReceived = this.state.dataJSON.card_data.data.years;
	        var cards = dataReceived.map(function (data, i) {
	          var logo = "bjp.png";
	          var party_name = "none";
	          if (data.mla_party == "BJP") {
	            console.log("Party is BJP");
	            logo = "https://pbs.twimg.com/profile_images/812531108092874753/frVON4bm_400x400.jpg";
	            party_name = "bjp";
	          } else {
	            logo = "https://pbs.twimg.com/profile_images/709367473095573505/1rSy_xxJ_400x400.jpg";
	            party_name = "bsp";
	          }
	          return _react2.default.createElement(
	            'tr',
	            { id: party_name },
	            _react2.default.createElement(
	              'td',
	              { className: 'mobile-mla-name' },
	              _react2.default.createElement(
	                'h5',
	                null,
	                data.mla_name
	              )
	            ),
	            _react2.default.createElement(
	              'td',
	              { className: 'mobile-mla-assembly' },
	              _react2.default.createElement(
	                'p',
	                null,
	                data.mla_assembly
	              )
	            ),
	            _react2.default.createElement(
	              'td',
	              { className: 'mobile-mla-assets' },
	              _react2.default.createElement(
	                'p',
	                null,
	                data.mla_assets
	              )
	            ),
	            _react2.default.createElement(
	              'td',
	              { className: 'mobile-mla-education' },
	              _react2.default.createElement(
	                'p',
	                null,
	                data.mla_education
	              )
	            ),
	            _react2.default.createElement(
	              'td',
	              { className: 'mobile-mla-party' },
	              _react2.default.createElement('img', { src: logo })
	            )
	          );
	        });

	        var data = this.state.dataJSON.card_data.data.years;
	        // let styles = this.state.dataJSON.configs ? {borderLeft: `5px solid ${this.state.dataJSON.configs.band_color}`} : undefined
	        // styles["width"] = "100%";
	        var header_style = this.state.dataJSON.configs ? { color: this.state.dataJSON.configs.band_color } : undefined;
	        return _react2.default.createElement(
	          'div',
	          { id: 'protograph_div_laptop' },
	          _react2.default.createElement(
	            'p',
	            { id: 'assembly_location' },
	            'Agra/ Agra Nagar'
	          ),
	          _react2.default.createElement(
	            'h3',
	            { id: 'card_title' },
	            'Leadership-MLA'
	          ),
	          _react2.default.createElement(
	            'div',
	            { className: 'card-scrollable' },
	            _react2.default.createElement(
	              'table',
	              null,
	              _react2.default.createElement(
	                'tr',
	                null,
	                _react2.default.createElement(
	                  'th',
	                  { className: 'mobile-mla-name' },
	                  'Name'
	                ),
	                _react2.default.createElement(
	                  'th',
	                  { className: 'mobile-mla-assembly' },
	                  'Assembly'
	                ),
	                _react2.default.createElement(
	                  'th',
	                  { className: 'mobile-mla-assets' },
	                  'Assets'
	                ),
	                _react2.default.createElement(
	                  'th',
	                  { className: 'mobile-mla-education' },
	                  'Education'
	                ),
	                _react2.default.createElement(
	                  'th',
	                  { className: 'mobile-mla-party' },
	                  'Party'
	                )
	              ),
	              cards
	            )
	          )
	        );
	      }
	    }

	    // dataSet(data, ids){
	    //
	    //   setTimeout(() => {
	    //       if (!data.isRendered){
	    //         data.isRendered = true;
	    //         var p = new ProtoEmbed.initFrame(ids, data.iframe_url , "laptop");
	    //         this.setState({initAllDivs: true})
	    //       }
	    //   }, 1000);
	    //
	    // }


	  }, {
	    key: 'renderMobile',
	    value: function renderMobile() {
	      if (this.state.fetchingData) {
	        return _react2.default.createElement(
	          'div',
	          null,
	          'Loading'
	        );
	      } else {
	        var that = this;
	        var dataReceived = this.state.dataJSON.card_data.data.years;
	        var cards = dataReceived.map(function (data, i) {
	          var logo = "bjp.png";
	          var party_name = "none";
	          if (data.mla_party == "BJP") {
	            logo = "https://pbs.twimg.com/profile_images/812531108092874753/frVON4bm_400x400.jpg";
	            party_name = "bjp";
	          } else {
	            logo = "https://pbs.twimg.com/profile_images/709367473095573505/1rSy_xxJ_400x400.jpg";
	            party_name = "bsp";
	          }
	          return _react2.default.createElement(
	            'div',
	            { className: 'mla-details', id: party_name },
	            _react2.default.createElement('img', { src: logo }),
	            _react2.default.createElement(
	              'h5',
	              null,
	              data.mla_name
	            ),
	            _react2.default.createElement(
	              'p',
	              { className: 'status-titles' },
	              'Assembly'
	            ),
	            _react2.default.createElement(
	              'p',
	              null,
	              data.mla_assembly
	            ),
	            _react2.default.createElement(
	              'div',
	              { className: 'mla-info', id: 'mla_party_div' },
	              _react2.default.createElement(
	                'p',
	                { className: 'status-titles' },
	                'Party'
	              ),
	              _react2.default.createElement(
	                'p',
	                null,
	                data.mla_party
	              )
	            ),
	            _react2.default.createElement(
	              'div',
	              { className: 'mla-info', id: 'mla_edu_div' },
	              _react2.default.createElement(
	                'p',
	                { className: 'status-titles' },
	                'Education'
	              ),
	              _react2.default.createElement(
	                'p',
	                null,
	                data.mla_education
	              )
	            )
	          );
	        });

	        var data = this.state.dataJSON.card_data.data.years;
	        // let styles = this.state.dataJSON.configs ? {borderLeft: `5px solid ${this.state.dataJSON.configs.band_color}`} : undefined
	        // styles["width"] = "100%";
	        var header_style = this.state.dataJSON.configs ? { color: this.state.dataJSON.configs.band_color } : undefined;
	        return _react2.default.createElement(
	          'div',
	          { id: 'protograph_div_mobile' },
	          _react2.default.createElement(
	            'h3',
	            { id: 'card_title' },
	            'Leadership-MLA'
	          ),
	          _react2.default.createElement(
	            'div',
	            { className: 'card-scrollable' },
	            cards
	          )
	        );
	      }
	    }
	  }, {
	    key: 'renderScreenshot',
	    value: function renderScreenshot() {
	      console.log("SS WAS RENDERED");
	      if (this.state.fetchingData) {
	        return _react2.default.createElement(
	          'div',
	          null,
	          'Loading'
	        );
	      } else {
	        var data = this.state.dataJSON.card_data;
	        var styles = this.state.dataJSON.configs ? { borderLeft: '5px solid ' + this.state.dataJSON.configs.band_color } : undefined;
	        var screenshot_styles = {
	          height: 'auto'
	        };

	        var that = this;
	        var dataReceived = this.state.dataJSON.card_data.data.years;

	        var cards = dataReceived.map(function (data, i) {
	          var logo = "bjp.png";
	          var party_name = "none";
	          if (data.mla_party == "BJP") {
	            console.log("Party is BJP");
	            logo = "https://pbs.twimg.com/profile_images/812531108092874753/frVON4bm_400x400.jpg";
	            party_name = "bjp";
	          } else {
	            logo = "https://pbs.twimg.com/profile_images/709367473095573505/1rSy_xxJ_400x400.jpg";
	            party_name = "bsp";
	          }
	          return _react2.default.createElement(
	            'div',
	            { className: 'mla-details', id: party_name },
	            _react2.default.createElement('img', { src: logo }),
	            _react2.default.createElement(
	              'h5',
	              null,
	              data.mla_name
	            ),
	            _react2.default.createElement(
	              'p',
	              { className: 'status-titles' },
	              'Assembly'
	            ),
	            _react2.default.createElement(
	              'p',
	              null,
	              data.mla_assembly
	            ),
	            _react2.default.createElement(
	              'div',
	              { className: 'mla-info', id: 'mla_party_div' },
	              _react2.default.createElement(
	                'p',
	                { className: 'status-titles' },
	                'Party'
	              ),
	              _react2.default.createElement(
	                'p',
	                null,
	                data.mla_party
	              )
	            ),
	            _react2.default.createElement(
	              'div',
	              { className: 'mla-info', id: 'mla_edu_div' },
	              _react2.default.createElement(
	                'p',
	                { className: 'status-titles' },
	                'Education'
	              ),
	              _react2.default.createElement(
	                'p',
	                null,
	                data.mla_education
	              )
	            )
	          );
	        });

	        return _react2.default.createElement(
	          'div',
	          { id: 'ProtoScreenshot', className: 'protograph_card_div' },
	          _react2.default.createElement(
	            'h3',
	            { id: 'card_title' },
	            'Leadership-MLA'
	          ),
	          _react2.default.createElement(
	            'div',
	            { className: 'card-scrollable' },
	            cards
	          )
	        );
	      }
	    }
	  }, {
	    key: 'render',
	    value: function render() {
	      switch (this.props.mode) {
	        case 'laptop':
	          return this.renderLaptop();
	          break;
	        case 'mobile':
	          return this.renderMobile();
	          break;
	        case 'tablet':
	          return this.renderLaptop();
	          break;
	        case 'screenshot':
	          return this.renderScreenshot();
	          break;
	      }
	    }
	  }]);

	  return ExplainerCard;
	}(_react2.default.Component);

	exports.default = ExplainerCard;

/***/ }),
/* 5 */
/***/ (function(module, exports) {

	module.exports = axios;

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactDom = __webpack_require__(3);

	var _reactDom2 = _interopRequireDefault(_reactDom);

	var _edit_explainer_card = __webpack_require__(7);

	var _edit_explainer_card2 = _interopRequireDefault(_edit_explainer_card);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	ProtoGraph.Card.toExplain.prototype.getData = function (data) {
	  return this.containerInstance.exportData();
	};

	ProtoGraph.Card.toExplain.prototype.renderSEO = function (data) {
	  this.renderMode = 'SEO';
	  return this.containerInstance.renderSEO();
	};

	ProtoGraph.Card.toExplain.prototype.renderEdit = function (onPublishCallback) {
	  var _this = this;

	  console.log(this.options);
	  this.mode = 'edit';
	  this.onPublishCallback = onPublishCallback;
	  _reactDom2.default.render(_react2.default.createElement(_edit_explainer_card2.default, {
	    dataURL: this.options.data_url,
	    schemaURL: this.options.schema_url,
	    optionalConfigURL: this.options.configuration_url,
	    optionalConfigSchemaURL: this.options.configuration_schema_url,
	    onPublishCallback: this.onPublishCallback,
	    mode: this.mode,
	    ref: function ref(e) {
	      _this.containerInstance = _this.containerInstance || e;
	    } }), this.options.selector);
	};

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

	'use strict';

	Object.defineProperty(exports, "__esModule", {
	  value: true
	});

	var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

	var _react = __webpack_require__(2);

	var _react2 = _interopRequireDefault(_react);

	var _reactDom = __webpack_require__(3);

	var _reactDom2 = _interopRequireDefault(_reactDom);

	var _axios = __webpack_require__(5);

	var _axios2 = _interopRequireDefault(_axios);

	var _Container = __webpack_require__(4);

	var _Container2 = _interopRequireDefault(_Container);

	var _reactJsonschemaForm = __webpack_require__(8);

	var _reactJsonschemaForm2 = _interopRequireDefault(_reactJsonschemaForm);

	function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

	function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

	function _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }

	function _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }

	var EditExplainerCard = function (_React$Component) {
	  _inherits(EditExplainerCard, _React$Component);

	  function EditExplainerCard(props) {
	    _classCallCheck(this, EditExplainerCard);

	    var _this = _possibleConstructorReturn(this, (EditExplainerCard.__proto__ || Object.getPrototypeOf(EditExplainerCard)).call(this, props));

	    _this.state = {
	      step: 1,
	      dataJSON: {
	        card_data: {},
	        configs: {}
	      },
	      mode: "laptop",
	      publishing: false,
	      schemaJSON: undefined,
	      fetchingData: true,
	      optionalConfigJSON: {},
	      optionalConfigSchemaJSON: undefined
	    };
	    _this.toggleMode = _this.toggleMode.bind(_this);
	    return _this;
	  }

	  _createClass(EditExplainerCard, [{
	    key: 'exportData',
	    value: function exportData() {
	      var getDataObj = {
	        step: this.state.step,
	        dataJSON: this.state.dataJSON.card_data,
	        schemaJSON: this.state.schemaJSON,
	        optionalConfigJSON: this.state.dataJSON.configs,
	        optionalConfigSchemaJSON: this.state.optionalConfigSchemaJSON
	      };
	      getDataObj["name"] = getDataObj.dataJSON.data.explainer_header.substr(0, 225); // Reduces the name to ensure the slug does not get too long
	      return getDataObj;
	    }
	  }, {
	    key: 'componentDidMount',
	    value: function componentDidMount() {
	      var _this2 = this;

	      // get sample json data based on type i.e string or object
	      //console.log(axios.get(this.props.dataURL));
	      if (this.state.fetchingData) {
	        _axios2.default.all([_axios2.default.get(this.props.dataURL), _axios2.default.get(this.props.schemaURL), _axios2.default.get(this.props.optionalConfigURL), _axios2.default.get(this.props.optionalConfigSchemaURL)]).then(_axios2.default.spread(function (card, schema, opt_config, opt_config_schema) {
	          //console.log(card.data);
	          _this2.setState({
	            fetchingData: false,
	            dataJSON: {
	              card_data: card.data,
	              configs: opt_config.data
	            },
	            schemaJSON: schema.data,
	            optionalConfigJSON: opt_config.data,
	            optionalConfigSchemaJSON: opt_config_schema.data
	          });
	        }));
	      }
	    }
	  }, {
	    key: 'onChangeHandler',
	    value: function onChangeHandler(_ref) {
	      var formData = _ref.formData;

	      switch (this.state.step) {
	        case 1:
	          this.setState(function (prevStep, prop) {
	            var dataJSON = prevStep.dataJSON;
	            dataJSON.card_data = formData;
	            return {
	              dataJSON: dataJSON
	            };
	          });
	          break;
	        case 2:
	          this.setState(function (prevStep, prop) {
	            var dataJSON = prevStep.dataJSON;
	            dataJSON.configs = formData;
	            return {
	              dataJSON: dataJSON
	              // optionalConfigJSON: dataJSON
	            };
	          });
	          break;
	      }
	    }
	  }, {
	    key: 'onSubmitHandler',
	    value: function onSubmitHandler(_ref2) {
	      var _this3 = this;

	      var formData = _ref2.formData;

	      switch (this.state.step) {
	        case 1:
	          this.setState({
	            step: 2
	          });
	          break;
	        case 2:
	          if (typeof this.props.onPublishCallback === "function") {
	            this.setState({ publishing: true });
	            var publishCallback = this.props.onPublishCallback();
	            publishCallback.then(function (message) {
	              _this3.setState({ publishing: false });
	            });
	          }
	          break;
	      }
	    }
	  }, {
	    key: 'renderSEO',
	    value: function renderSEO() {
	      var data = this.state.dataJSON.card_data.data.years;
	      console.log();
	      var blockquote_string = data.map(function (d, i) {
	        return '<h3>' + d.mla_name + '</h3><p>' + d.mla_party + '</p><p>' + d.mla_assembly + '</p><p>' + d.mla_education + '</p>';
	      });
	      var seo_blockquote = '<blockquote>' + blockquote_string.join() + '</blockquote>';
	      return seo_blockquote;
	    }
	  }, {
	    key: 'renderSchemaJSON',
	    value: function renderSchemaJSON() {
	      switch (this.state.step) {
	        case 1:
	          return this.state.schemaJSON;
	          break;
	        case 2:
	          return this.state.optionalConfigSchemaJSON;
	          break;
	      }
	    }
	  }, {
	    key: 'renderFormData',
	    value: function renderFormData() {
	      switch (this.state.step) {
	        case 1:
	          return this.state.dataJSON.card_data;
	          break;
	        case 2:
	          return this.state.dataJSON.configs;
	          break;
	      }
	    }
	  }, {
	    key: 'showLinkText',
	    value: function showLinkText() {
	      switch (this.state.step) {
	        case 1:
	          return '';
	          break;
	        case 2:
	          return '< Back to building the card';
	          break;
	      }
	    }
	  }, {
	    key: 'showButtonText',
	    value: function showButtonText() {
	      switch (this.state.step) {
	        case 1:
	          return 'Next';
	          break;
	        case 2:
	          return 'Publish';
	          break;
	      }
	    }
	  }, {
	    key: 'onPrevHandler',
	    value: function onPrevHandler() {
	      var prev_step = --this.state.step;
	      this.setState({
	        step: prev_step
	      });
	    }
	  }, {
	    key: 'toggleMode',
	    value: function toggleMode(e) {
	      // document.querySelector('.protograph_explainer_text').style.height = '70px'
	      // document.querySelector('.protograph_explainer_text').innerHTML = this.state.dataJSON.card_data.data.explainer_text;
	      var element = e.target.closest('a'),
	          mode = element.getAttribute('data-mode');
	      this.setState(function (prevState, props) {
	        var newMode = void 0;
	        if (mode !== prevState.mode) {
	          newMode = mode;
	        } else {
	          newMode = prevState.mode;
	        }

	        return {
	          mode: newMode
	        };
	      });
	    }
	  }, {
	    key: 'render',
	    value: function render() {
	      var _this4 = this;

	      console.log("final", this.state.dataJSON.card_data);
	      if (this.state.fetchingData) {
	        return _react2.default.createElement(
	          'div',
	          null,
	          'Loading'
	        );
	      } else {
	        return _react2.default.createElement(
	          'div',
	          { className: 'proto-container' },
	          _react2.default.createElement(
	            'div',
	            { className: 'ui grid form-layout' },
	            _react2.default.createElement(
	              'div',
	              { className: 'row' },
	              _react2.default.createElement(
	                'div',
	                { className: 'four wide column proto-card-form' },
	                _react2.default.createElement(
	                  'div',
	                  null,
	                  _react2.default.createElement(
	                    'div',
	                    { className: 'section-title-text' },
	                    'Fill the form'
	                  ),
	                  _react2.default.createElement(
	                    'div',
	                    { className: 'ui label proto-pull-right' },
	                    'ToLeadershipMLA'
	                  )
	                ),
	                _react2.default.createElement(
	                  _reactJsonschemaForm2.default,
	                  { schema: this.renderSchemaJSON(),
	                    onSubmit: function onSubmit(e) {
	                      return _this4.onSubmitHandler(e);
	                    },
	                    onChange: function onChange(e) {
	                      return _this4.onChangeHandler(e);
	                    },
	                    formData: this.renderFormData() },
	                  _react2.default.createElement(
	                    'a',
	                    { id: 'protograph-prev-link', className: '' + (this.state.publishing ? 'protograph-disable' : ''), onClick: function onClick(e) {
	                        return _this4.onPrevHandler(e);
	                      } },
	                    this.showLinkText(),
	                    ' '
	                  ),
	                  _react2.default.createElement(
	                    'button',
	                    { type: 'submit', className: (this.state.publishing ? 'ui primary loading disabled button' : '') + ' default-button protograph-primary-button' },
	                    this.showButtonText()
	                  )
	                )
	              ),
	              _react2.default.createElement(
	                'div',
	                { className: 'twelve wide column proto-card-preview proto-share-card-div' },
	                _react2.default.createElement(
	                  'div',
	                  { className: 'protograph-menu-container' },
	                  _react2.default.createElement(
	                    'div',
	                    { className: 'ui compact menu' },
	                    _react2.default.createElement(
	                      'a',
	                      { className: 'item ' + (this.state.mode === 'laptop' ? 'active' : ''),
	                        'data-mode': 'laptop',
	                        onClick: this.toggleMode
	                      },
	                      _react2.default.createElement('i', { className: 'desktop icon' })
	                    ),
	                    _react2.default.createElement(
	                      'a',
	                      { className: 'item ' + (this.state.mode === 'mobile' ? 'active' : ''),
	                        'data-mode': 'mobile',
	                        onClick: this.toggleMode
	                      },
	                      _react2.default.createElement('i', { className: 'mobile icon' })
	                    )
	                  )
	                ),
	                _react2.default.createElement(_Container2.default, {
	                  mode: this.state.mode,
	                  dataJSON: this.state.dataJSON,
	                  schemaJSON: this.state.schemaJSON,
	                  optionalConfigJSON: this.state.optionalConfigJSON,
	                  optionalConfigSchemaJSON: this.state.optionalConfigSchemaJSON
	                })
	              )
	            )
	          )
	        );
	      }
	    }
	  }]);

	  return EditExplainerCard;
	}(_react2.default.Component);

	exports.default = EditExplainerCard;

/***/ }),
/* 8 */
/***/ (function(module, exports) {

	module.exports = JSONSchemaForm;

/***/ })
/******/ ]);